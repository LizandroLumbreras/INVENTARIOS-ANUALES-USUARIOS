<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>INVENTARIOS ANUALES PROVEEDORA</title>

  <!-- Fuente y librerÃ­a Excel -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

  <style>
    :root{
      --wm-size: 70%;   /* tamaÃ±o relativo a la pantalla */
      --wm-opacity: 0.15;
    }

    *{ box-sizing: border-box }
    body{
      font-family:'Poppins',sans-serif;
      background:linear-gradient(to right,#00416A,#E4E5E6);
      color:white; 
      margin:0; 
      min-height:100vh;
      position: relative;
      overflow-x: hidden;
    }

    h1{ text-align:center; margin:20px 0 }
    .fila{ display:flex; flex-wrap:wrap; gap:10px; align-items:center }
    .folio-box{ background:white; color:#00416A; font-weight:bold; padding:6px 12px; border-radius:8px; display:inline-block }
    input,button,select{ font-family:inherit; padding:10px; font-size:16px; border-radius:6px; border:none }
    input{ width:100%; max-width:320px }
    select{ min-width:220px }
    .acciones button{ width:auto }
    .boton{ background:#0c6cbd; color:white; font-weight:bold; cursor:pointer; transition:background .3s }
    .boton:hover{ background:#084f92 }
    .sec{ margin-top:14px }
    .contenedor-tabla{ background:white; color:black; border-radius:8px; overflow-x:auto; margin-top:14px }
    table{ width:100%; border-collapse:collapse; min-width:760px }
    th,td{ padding:10px; border:1px solid #ccc; text-align:center }
    th{ background-color:#00416A; color:white; position:sticky; top:0 }
    td button{ padding:6px 10px; margin:2px; border:none; border-radius:6px; font-size:16px; cursor:pointer }
    .resumen{ background:rgba(255,255,255,.15); border:1px solid rgba(255,255,255,.25); border-radius:10px; padding:10px; display:flex; gap:16px; flex-wrap:wrap }

    /* Ocultar Precio e Importe visualmente (solo para la tabla en pantalla) */
    thead th:nth-child(5), thead th:nth-child(6),
    tbody td:nth-child(5), tbody td:nth-child(6){ display:none; }

    /* ===== Marca de agua ===== */
    .wm-logo{
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: var(--wm-opacity);
      z-index: 0;
      pointer-events: none;
      width: var(--wm-size);
      max-width: 900px;
    }
    .wm-logo img{
      width: 100%;
      height: auto;
      display: block;
    }

    /* Contenido y footer encima */
    main, footer { position: relative; z-index: 1; }

    footer {
      text-align: center;
      padding: 12px;
      background: rgba(0,0,0,0.3);
      font-size: 14px;
      margin-top: 30px;
    }

    @media print{ .wm-logo{ display:none } }
  </style>
</head>
<body>
  <!-- Marca de agua -->
  <div class="wm-logo">
    <img src="logo-proveedora.webp" alt="Marca de agua">
  </div>

  <main>
    <h1>INVENTARIOS ANUALES PROVEEDORA</h1>

    <div class="fila">
      <div>Folio actual: <span class="folio-box" id="folio"></span></div>
    </div>

    <div class="fila sec">
      <label for="palabraClave" style="min-width:140px">Palabra clave:</label>
      <input type="text" id="palabraClave" placeholder="Ej. BODEGA, URGENTE, PROV">
    </div>

    <div class="fila sec">
      <label for="usuario" style="min-width:140px">Usuario:</label>
      <select id="usuario">
        <option value="">-- Selecciona usuario --</option>
        <option value="blanca">Blanca</option>
        <option value="lizandro">Lizandro</option>
        <option value="edgardo">Edgardo</option>
        <option value="fernanda">Fernanda</option>
        <option value="vansessa">Vansessa</option>
        <option value="esmeralda">Esmeralda</option>
        <option value="gibran">Gibran</option>
        <option value="roberto">Roberto</option>
        <option value="usuario1">Usuario 1</option>
        <option value="usuario2">Usuario 2</option>
        <option value="usuario3">Usuario 3</option>
        <option value="usuario4">Usuario 4</option>
        <option value="usuario5">Usuario 5</option>
      </select>
    </div>

    <div class="fila sec">
      <input type="text" id="codigo" placeholder="Escanea o escribe el cÃ³digo de barras...">
      <input type="number" id="cantidad" placeholder="Cantidad" value="1.000" step="0.001" min="0.001">
      <button class="boton" id="agregar">âž• Agregar</button>
    </div>

    <div class="fila acciones sec">
      <button class="boton" id="guardar">ðŸ’¾ Guardar Inventario</button>
      <button class="boton" id="exportar-actual">ðŸ“¥ Descargar Excel (actual)</button>
      <button class="boton" id="limpiar">ðŸ§¹ Limpiar lista</button>
    </div>

    <div class="contenedor-tabla">
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>DescripciÃ³n</th>
            <th>CÃ³digo</th>
            <th>Cantidad</th>
            <th>Precio</th>
            <th>Importe</th>
            <th>Fecha</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody id="tabla-productos"></tbody>
      </table>
    </div>

    <div class="resumen sec">
      <div><b>Renglones:</b> <span id="tRenglones">0</span></div>
      <div><b>Suma cantidades:</b> <span id="tCantidad">0.000</span></div>
    </div>
  </main>

  <footer>
    Â© 2025 <span>Panel de Herramientas La Proveedora</span> Â· Desarrollado por Lizandro SustaitaÂ®
  </footer>
</body>
</html>
